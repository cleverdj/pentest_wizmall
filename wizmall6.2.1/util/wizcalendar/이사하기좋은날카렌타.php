<?
/* 
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr">
제작자 : 폰돌
URL : http://www.shop-wiz.com
Email : master@shop-wiz.com
*** Updating List ***
이사하기 좋은날 카렌타 입니다.
*/
?>
<html>
<head>
<title>wizCalendar ver.1.2</title>
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr">
<style type="text/css">
<!--
a:link {  font-family: "굴림", "굴림체"; font-size: 9pt; color: 5D5D5D; text-decoration: none}
a:visited {  font-family: "굴림", "굴림체"; font-size: 9pt; color: #666666; text-decoration: none}
a:active {  font-family: "굴림", "굴림체"; font-size: 9pt; color: #E50101; text-decoration: underline}
a:hover {  font-family: "굴림", "굴림체"; font-size: 9pt; color: E50101; text-decoration: underline}
.txt {  font-family: "굴림", "굴림체"; font-size: 9pt; color: #333333; line-height: 15pt}
BODY, TEXTAREA,TABLE, TR, TD, INPUT{font-size:12px; font-family:굴림;}
a:link,a:visited,a:hover {color: #ffffff; text-decoration: none}
a.com:link,a.com:visited {color: #000000; text-decoration: none}
a.pro:hover {  color: #869603; text-decoration: underline}
a.inq:hover {  color: #489CE7; text-decoration: underline}
a.bro:hover {  color: #21B686; text-decoration: underline}
a.site:hover {  color: #CC3333; text-decoration: underline}
-->
</style>
<style type="text/css">
<!--
a.com:hover { color: #000000} body {
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
}
-->
</style>
</head>
<body>

<?
$aKilil = Array ( 
"2004-1-1", "2004-1-10", "2004-1-11", "2004-1-20", "2004-1-21", "2004-1-30", "2004-1-31",
"2004-2-9", "2004-2-10", "2004-2-19", "2004-2-28", "2004-2-29", "2004-3-9", "2004-3-10",
"2004-3-19", "2004-3-20", "2004-3-29", "2004-3-30", "2004-4-8", "2004-4-9", "2004-4-18",
"2004-4-27", "2004-4-28", "2004-5-7", "2004-5-8", "2004-5-17", "2004-5-18", "2004-5-27",
"2004-5-28", "2004-6-6", "2004-6-7", "2004-6-16", "2004-6-17", "2004-6-26", "2004-6-27",
"2004-7-6", "2004-7-7", "2004-7-16", "2004-7-25", "2004-7-26", "2004-8-4",  "2004-8-5",
"2004-8-14", "2004-8-15", "2004-8-24", "2004-8-25", "2004-9-3", "2004-9-4", "2004-9-13", 
"2004-9-22", "2004-9-23", "2004-10-2", "2004-10-3", "2004-10-12", "2004-10-13", "2004-10-22",
"2004-10-23", "2004-11-1", "2004-11-2", "2004-11-11", "2004-11-12", "2004-11-21", "2004-11-22",
"2004-12-1", "2004-12-2", "2004-12-11", "2004-12-20", "2004-12-21", "2004-12-30", "2004-12-31",
"2005-1-1", "2005-1-10", "2005-1-19", "2005-1-20", "2005-1-29", "2005-1-30", "2005-2-8", 
"2005-2-9", "2005-2-18", "2005-2-19", "2005-2-28", "2005-3-1", "2005-3-10", "2005-3-19",
"2005-3-20", "2005-3-29", "2005-3-30", "2005-4-8", "2005-4-9", "2005-4-18", "2005-4-19",
"2005-4-28", "2005-4-29", "2005-5-8", "2005-5-17", "2005-5-18", "2005-5-27", "2005-5-28",
"2005-6-6", "2005-6-7", "2005-6-16", "2005-6-17", "2005-6-26", "2005-6-27", "2005-7-6",
"2005-7-15", "2005-7-16", "2005-7-25", "2005-7-26", "2005-8-4", "2005-8-5", "2005-8-14",
"2005-8-15", "2005-8-24", "2005-8-25", "2005-9-3", "2005-9-4", "2005-9-13", "2005-9-14",
"2005-9-23", "2005-9-24", "2005-10-3", "2005-10-12", "2005-10-13", "2005-10-22", "2005-10-23",
"2005-11-1", "2005-11-2", "2005-11-11", "2005-11-12", "2005-11-21", "2005-11-22", "2005-12-1",
"2005-12-2", "2005-12-11", "2005-12-12", "2005-12-21", "2005-12-22", "2005-12-31", 
"2006-1-8", "2006-1-9", "2006-1-18", "2006-1-19", "2006-1-28", "2006-1-29", "2006-2-7", 
"2006-2-8", "2006-2-17", "2006-2-18", "2006-2-27", "2006-3-8", "2006-3-9", "2006-3-18", 
"2006-3-19", "2006-3-28", "2006-4-6", "2006-4-7", "2006-4-16", "2006-4-17", "2006-4-26", 
"2006-4-27", "2006-5-6", "2006-5-7", "2006-5-16", "2006-5-17", "2006-5-26", "2006-6-4", 
"2006-6-5", "2006-6-14", "2006-6-15", "2006-6-24", "2006-6-25", "2006-7-4", "2006-7-5", 
"2006-7-14", "2006-7-15", "2006-7-24", "2006-8-2", "2006-8-3", "2006-8-12", "2006-8-13", 
"2006-8-22", "2006-8-23", "2006-9-1", "2006-9-2", "2006-9-11", "2006-9-12", "2006-9-21", 
"2006-9-30", "2006-10-1", "2006-10-10", "2006-10-11", "2006-10-20", "2006-10-21", "2006-10-30", 
"2006-10-31", "2006-11-9", "2006-11-10", "2006-11-19", "2006-11-20", "2006-11-29", "2006-11-30", 
"2006-12-9", "2006-12-10", "2006-12-19", "2006-12-28", "2006-12-29", "2007-1-7",
"2007-1-8", "2007-1-17", "2007-1-18", "2007-1-27", "2007-1-28", "2007-2-6", "2007-2-7",
"2007-2-16", "2007-2-17", "2007-2-26", "2007-2-27", "2007-3-8", "2007-3-9", "2007-3-18", 
"2007-3-27", "2007-3-28", "2007-4-6", "2007-4-7", "2007-4-16", "2007-4-25", "2007-4-26",
"2007-5-5", "2007-5-6", "2007-5-15", "2007-5-16", "2007-5-25", "2007-5-26", "2007-6-4", 
"2007-6-5", "2007-6-14", "2007-6-23", "2007-6-24", "2007-7-3", "2007-7-4", "2007-7-13",
"2007-7-22", "2007-7-23", "2007-8-1", "2007-8-2", "2007-8-11", "2007-8-12", "2007-8-21",
"2007-8-22", "2007-8-31", "2007-9-1", "2007-9-10", "2007-9-19", "2007-9-20", "2007-9-29",
"2007-9-30", "2007-10-9", "2007-10-10", "2007-10-19", "2007-10-20", "2007-10-29", "2007-10-30",
"2007-11-8", "2007-11-9", "2007-11-18", "2007-11-19", "2007-11-28", "2007-11-29", "2007-12-8",
"2007-12-9", "2007-12-18", "2007-12-19", "2007-12-28", "2007-12-29", "2008-1-7", "2008-1-16",
"2008-1-17", "2008-1-26", "2008-1-27", "2008-2-5", "2008-2-6", "2008-2-15", "2008-2-16",
"2008-2-25", "2008-2-26", "2008-3-6", "2008-3-7", "2008-3-16", "2008-3-17", "2008-3-26",
"2008-3-27", "2008-4-5", "2008-4-14", "2008-4-15", "2008-4-24", "2008-4-25", "2008-5-4", 
"2008-5-13", "2008-5-14", "2008-5-23", "2008-5-24", "2008-6-2", "2008-6-3", "2008-6-12",
"2008-6-13", "2008-6-22", "2008-6-23", "2008-7-2", "2008-7-11", "2008-7-12", "2008-7-21",
"2008-7-22", "2008-7-31", "2008-8-9", "2008-8-10", "2008-8-19", "2008-8-20", "2008-8-29",
"2008-8-30", "2008-9-8", "2008-9-9", "2008-9-18", "2008-9-19", "2008-9-28", "2008-10-7",
"2008-10-8", "2008-10-17", "2008-10-18", "2008-10-27", "2008-10-28", "2008-11-6", "2008-11-7",
"2008-11-16", "2008-11-17", "2008-11-26", "2008-11-27", "2008-12-6", "2008-12-7", "2008-12-16",
"2008-12-17", "2008-12-26", "2009-1-5", "2009-1-6", "2009-1-15", "2009-1-16", "2009-1-25", 
"2009-1-26", "2009-2-4", "2009-2-5", "2009-2-14", "2009-2-15", "2009-2-24", "2009-2-25", 
"2009-3-6", "2009-3-7", "2009-3-16", "2009-3-17", "2009-3-26", "2009-3-27", "2009-4-5", 
"2009-4-6", "2009-4-15", "2009-4-16", "2009-4-25", "2009-5-4", "2009-5-5", "2009-5-14", 
"2009-5-15", "2009-5-24", "2009-6-2", "2009-6-3", "2009-6-12", "2009-6-13", "2009-6-22", 
"2009-6-23", "2009-7-2", "2009-7-3", "2009-7-12", "2009-7-13", "2009-7-22", "2009-7-31", 
"2009-8-1", "2009-8-10", "2009-8-11", "2009-8-20", "2009-8-29", "2009-8-30", "2009-9-8", 
"2009-9-9", "2009-9-18", "2009-9-19", "2009-9-28", "2009-9-29", "2009-10-8", "2009-10-9", 
"2009-10-18", "2009-10-27", "2009-10-28", "2009-11-6", "2009-11-7", "2009-11-16", "2009-11-17", 
"2009-11-26", "2009-11-27", "2009-12-6", "2009-12-7", "2009-12-16", "2009-12-25", "2009-12-26",  ); 

/* 특정달의 일수를 구하는 함수 */

function TotalDaysOfTheMonth($year,$month) {
global $TheDays;
	$TheDays = 1;
	while(checkdate($month,$TheDays,$year)) {
		$TheDays++;
	}
	return $TheDays;
}


$selectYear = $selectYear ? $selectYear : date("Y");
$selectMonth = $selectMonth ? $selectMonth : date("m");

TotalDaysOfTheMonth($selectYear, $selectMonth);
?>

<table border="0" cellpadding="0" cellspacing=0 bordercolorlight=#CEE1FF  bordercolordark=#E1FFFD  align="center" width="170">
<form method="post" action="<?=$PHP_SELF;?>" name="CalendarForm">
  <tr> 
          <td height="25" colspan=7 bgcolor="#CC3333"><font color="#FFFFFF"><a href="javascript:void(location.replace('<?=$PHP_SELF?>?mode=plusyear&Month=<?=$Month?>'))">
          <select name="selectYear" onChange="submit()">
<?
$tmpYear = date("Y");
for($i=$tmpYear-3; $i<$tmpYear+3; $i++){
	$selected = $selectYear == $i ? "selected":"";
	echo "<option value='$i'$selected>$i</option>\n";
}
?>				
  </select>
            <select name="selectMonth" onChange="submit()">
<?
for($i=1; $i<13; $i++){
	$selected = $selectMonth == $i ? "selected":"";
	echo "<option value='$i'$selected>$i</option>\n";
}
?>			
              
          </select>
            </a></font></td>
  </tr>
  </form>
        <tr bgcolor="#FFFFFF"> 
          <td height="25" colspan="7"><?=$selectYear?>/<?=$selectMonth;?></td>
        </tr><tr><td>
<!-- 날짜 테이블 시작 -->				
        <table border="0" cellpadding="0" cellspacing=1 bordercolorlight=#CEE1FF  bordercolordark=#E1FFFD  align="center"  bgcolor=#CCCCCC width="100%"><tr> 
          <td width="48" height="25" align="center" bgcolor="#F2F2F2"><font color="#FF0000">일</font></td>
          <td width="48" align="center" bgcolor="#F2F2F2">월</td>
          <td width="48" align="center" bgcolor="#F2F2F2">화</td>
          <td width="48" align="center" bgcolor="#F2F2F2">수</td>
          <td width="48" align="center" bgcolor="#F2F2F2">목</td>
          <td width="48" align="center" bgcolor="#F2F2F2">금</td>
          <td width="48" align="center" bgcolor="#F2F2F2">토</td>
        </tr>
        <tr> 
<?		  
/* 요일과 날짜가 매치되지않으면 공백채우기 */
unset($count);	
for($i = 0; $i < $first_day; $i++) {
echo " <td bgcolor=#FFFFFF>&nbsp;</td>";
$count++;
}

for($j = 1; $j < $TheDays; $j++) {
$k = substr("0".$j, -2);
$ThedayThetime = mktime(date("H"),date("i"),date("s"),$selectMonth,$j,$selectYear);
?>
<td valign="top" bgcolor=#FFFFFF style=padding-top:2pt;padding-left:2pt;>
<?
/* $ThedayThetime은 카렌다의 모든 시간들을 유닉스 시간으로 변경한다. */
$gil = $selectYear."-".(int)$selectMonth."-".(int)$j;
//echo $gil;
if(in_array($gil, $aKilil)){
	echo "<font style='color:#0000FF; text-decoration:none;'><b>$j</b><font>";
}else if ( date("Ymd") == $selectYear.$selectMonth.$k ) {  // 오늘 날짜랑 같으면 ff0000색으로 표시 
	echo "<font style='color:#000000; text-decoration:none;'>$j<font>";
 //echo "<font style='color:#0000FF; text-decoration:none;'><b>$j</b><font>"; 
}elseif(!($count%7)){//일요일은 붉은색으로 표시
	echo "<font style='color:#FF0000; text-decoration:none;'>$j<font>"; 
}else { 
	echo "<font style='color:#000000; text-decoration:none;'>$j<font>"; 
} 
?>
</td>
<?
$count++; //요일을 계산하여 7이 되면 tr시켜줌
		if($count == 7) {
			echo " </tr> ";
			if($j != $totaldays) { echo "<tr>"; }
			unset($count);
		}
	}

// 달력뒤에 자리가 나오면 공백으로 채줘주기	
	while($count > 0 && $count < 7) {
		echo "<td bgcolor=#ffffff>&nbsp;</td>";
		$count++;
	}
?>

        </tr></table>
<!-- 날짜 테이블 끝 -->
</td></tr></table>

</body>

</html>