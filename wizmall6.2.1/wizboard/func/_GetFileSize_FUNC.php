<?
/* file size를 구한다 */

function my_filesize($filepath) {

   // 파일 존재유무 책크
   
if(is_file("$filepath")){
   // 일반적인 파일 사이즈 단위를 설정한다.
$kb = 1024;         // Kilobyte
$mb = 1024 * $kb;   // Megabyte
$gb = 1024 * $mb;   // Gigabyte
$tb = 1024 * $gb;   // Terabyte

// byte단위의 파일을 가져온다.
   $size = filesize("$filepath");
/* 만약 파일이 kb(키로바이트)보다 적으면 그 값을 그대로 리턴하고 아니면 적당한 파일단위를 붙인다.*/

   if($size < $kb) {
       return $size." B";
   }
   else if($size < $mb) {
      return round($size/$kb,2)." KB";
   }
   else if($size < $gb) {
       return round($size/$mb,2)." MB";
  }
   else if($size < $tb) {
       return round($size/$gb,2)." GB";
   }
   else {
      return round($size/$tb,2)." TB";
   }
}   
}
?>