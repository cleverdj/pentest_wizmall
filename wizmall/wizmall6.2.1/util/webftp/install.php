<?php
/**
* 초기 실행화면
*
* @filename : install.php
* @version  : v 1.0 2003.07.20 13:44:24
* @author   : nsl <smpoem@magicn.com>
*/

include 'common/skydir_config.php';
include 'common/skydir_func.php';

// 이미 환경설정이 되어 있다면 에러!
if ((@filesize('config/uconfig.php') != 0 )) {
    
    Header("Location:index.php");
}


// html 시작부
include 'common/header_file.php';
?>
<script language="javascript">
<!--

    function goInstall() {        
        
        var msg = "이 프로그램을 실행 하시겠습니까 ?\n\n프로그램을 실행하면 환경설정이 자동 초기화 됩니다.";

       /* if (document.input.licensedOk.checked == false) {

            alert(":: 라이센스에 동의 하셔야만 사용이 가능합니다!");
            return;
        }*/

        if (confirm(msg)) {

            location.href = 'php/uconfig_setting.php';
            return;
        } else {
            return;
        }
    }
//-->
</script>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">

<br>
<table cellpadding=3 cellspacing=1 border=0 width=600 align=center  bgcolor="buttonface">
<tr>
  <td>
  
<table style="border-width:0; border-color:white; border-style:solid;" border="1" width="100%" height="100%" bordercolordark="white" bordercolorlight="#333333" cellpadding=10>
<tr>
<td valign=top>

<fieldset style="padding:5pt">
<legend><?=$dcfg->pgName?> 처음 실행하기 및 환경설정 초기화</legend> 


  <table border=0 cellpadding=0 cellspacing=0 valign=middle style="line-height:105%" width=100% height=250>
  <tr>
    <td align=center>

    <fieldset style="padding:5pt; width=90%" align=center>
    <legend><font class=boldfont>처음 실행하기 전에 아래 사항을 확인해주세요</font></legend> 

      <table border=0 cellpadding=0 cellspacing=0 valign=middle style="line-height:105%" width=100% height=100>
      <tr>
        <td height=5></td>
      </tr>
      <tr>
        <td align=right>

        <table border=0 width=100%>
        <tr>
          <td>
<pre>
1. 디렉토리 및 파일 권한 설정
   
   a. chmod 0777 config              - 디렉토리 쓰기 권한 부여
   b. chmod 0777 config/uconfig.php  - 파일 쓰기 권한 부여
   c. chmod 0777 config/nlog.log     - 파일 쓰기 권한 부여

2. 초기 아이디 : <?=$dcfg->pgInitUserID?>,  비밀번호 : <?=$dcfg->pgInitUserPW?>


3. 설치후 환경설정에서 사용자 아이디, 비밀번호를 반드시 변경하시기 바랍니다.

4. 설치후 환경설정에서 사용 경로를 확인한 후, 필요하다면 알맞게 수정하시기 바랍니다.

5. 프로그램 실행이 되면 [접속정보] 메뉴에서 FTP 접속 정보를 설정하시기 바랍니다.
   (처음 실행시 [접속정보] 창이 자동으로 뜨도록 되어 있습니다.)

6. 문의 사항은 <a href="http://ndir.cyworld.com" target=_blank><font color=blue><u>http://ndir.cyworld.com</u></font></a> 에 글을 남겨주시거나
   <?=$dcfg->pgEmail?> 로 메일 주시기 바랍니다. 
   
<font color=#DF0E09>7. nFTP v0.9 에서는 디렉토리명에 공백이 있을 경우
   인식에 문제가 있어서 <u>출력되지 않습니다.</u></font>
   
8. PHP에서 FTP 함수가 사용가능해만이 nFTP를 사용할 수 있습니다.  (<font color=blue>-enable-ftp</font>)   
   <input type=button value="PHP에서 FTP 함수 사용 가능한지 검사하기" OnClick="fileViewWin('php/phpinfo.php', 700, 550)" style="height:30px; width:250px;">

   
<font color=#DF0E09>9. nFTP v0.9의 제약사항 (서버의 FTP 환경설정에 따라 제약 사항이 있습니다)

    1) nFTP가 설치된 서버로의 접속만 허용됩니다.
    2) FTP 연결시 사용자의 홈 계정 디렉토리부터 루트로 잡혀야 합니다.
       a) /home/userid (X)  : 사용자 계정 디렉토리 전체가 루트로 잡히면 사용불가
       b) /            (O)  : 사용자 계정 디렉토리부터 루트로 잡히면 사용가능
    
    <u>3) 서버의 FTP 환경 설정에 따라서 실행이 되지 않을 수 있습니다.</u></font></pre>
          </td>
        </tr>
        <tr>
          <td align=right>
           <input type=button value="설명서 보기" OnClick="fileViewWin('readme.txt', 700, 500)" style="height:30px; width:100px">
          </td>
        </tr>
        </table>       
        
        </td>
      </tr>
      </table>

      </fieldset>
    
    </td>
  </tr>
  <tr>
    <td height=15></td>
  </tr>
  <tr>
    <td align=center height=50>
      <input type=submit value=" 처 음 실 행 하 기 " OnClick="goInstall()" style="height:40; width:150; font-weight:600; font-size:14px">
    </td>
  </tr>
  </table>


</fieldset>

</td>
</tr>
  <tr>
    <td height=20 align=center><?=$dcfg->pgCopyright?></td>
  </tr>
</table>
 
  
  </td>
</tr> 

</table>
</body>
</html>